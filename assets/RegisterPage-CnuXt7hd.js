import{a as c,u as N,j as e,L as v}from"./index-BY1tpVqE.js";import{b as w,B as h}from"./App-DDK5VWas.js";import{I as f}from"./inputtext.esm-DJXwl7kq.js";import{P as E}from"./password.esm-BwPVuE6i.js";import{T as C}from"./toast.esm-JlM8a3-I.js";const S=()=>{const u=c.useRef(null),n=N(),{user:r,login:x}=w(),[o,p]=c.useState({nome:"",email:"",senha:""});c.useEffect(()=>{r&&n(`/user/${r.id}`)},[r,n]);const i=s=>{const{name:t,value:a}=s.target;p(m=>({...m,[t]:a}))},b=(s,t,a)=>{u.current.show({severity:s,summary:t,detail:a,life:4e3})},g=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),j=s=>{s.preventDefault();const{nome:t,email:a,senha:m}=o,l=[];if(t||l.push("Nome é obrigatório."),a?g(a)||l.push("Formato de e-mail inválido."):l.push("E-mail é obrigatório."),m||l.push("Senha é obrigatória."),l.length){b("error","Erro no cadastro",l.join(`
`));return}const d=Math.floor(Math.random()*1e3)+1;x(a,d,t),n(`/user/${d}`)};return e.jsxs("div",{className:"p-fluid max-w-30rem mx-auto p-4 border-round-lg surface-card shadow-2",children:[e.jsx(C,{ref:u}),e.jsx("h1",{className:"text-center text-5xl text-gray-800 mt-0 mb-4",children:"Registrar"}),e.jsxs("form",{onSubmit:j,className:"p-fluid",children:[e.jsxs("div",{className:"field mb-3",children:[e.jsx("label",{htmlFor:"nome",className:"block text-900 font-medium mb-1",children:"Nome"}),e.jsx(f,{name:"nome",value:o.nome,onChange:i,placeholder:"Digite seu nome",className:"w-full"})]}),e.jsxs("div",{className:"field mb-3",children:[e.jsx("label",{htmlFor:"email",className:"block text-900 font-medium mb-1",children:"E-mail"}),e.jsx(f,{name:"email",value:o.email,onChange:i,placeholder:"Digite seu email",className:"w-full"})]}),e.jsxs("div",{className:"field mb-3",children:[e.jsx("label",{htmlFor:"senha",className:"block text-900 font-medium mb-1",children:"Senha"}),e.jsx(E,{name:"senha",value:o.senha,onChange:i,toggleMask:!0,feedback:!1,placeholder:"Crie uma senha",className:"w-full",inputClassName:"w-full"})]}),e.jsx(h,{type:"submit",label:"Criar Conta",icon:"pi pi-user-plus",className:"w-full p-button-primary"})]}),e.jsx("div",{className:"flex justify-content-center mt-4",children:e.jsx(v,{to:"/login",title:"Já tem conta? Entre",children:e.jsx(h,{label:"Já tem conta? Entre",icon:"pi pi-sign-in",className:"w-auto text-lg",text:!0})})})]})};export{S as default};
